
> @usn/backend@1.0.0 dev /Users/rateria/Code/upsc-web-app/servers/backend
> tsnd --respawn app.ts

[INFO] 19:05:22 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.1, typescript ver. 5.1.6)
connecting to mongodb+srv://shubham:Latelia1004_@cluster0.wcyiz.mongodb.net/
(node:31428) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:31428) NOTE: We are formalizing our plans to enter AWS SDK for JavaScript (v2) into maintenance mode in 2023.

Please migrate your code to use AWS SDK for JavaScript (v3).
For more information, check the migration guide at https://a.co/7PzMCcy
Connected to MongoDB
db loaded...
express loaded...

      ################################################
      üõ°Ô∏è  Server listening on port: 3000 üõ°Ô∏è
      ################################################
    
[0mPOST /api/user/me [32m200[0m 32.491 ms - 227[0m
[0mPOST /api/toppers [32m200[0m 74.915 ms - 13479[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 100.127 ms - 25[0m
tagSearchResults 10
other results 0
other results 2 0
[0mPOST /api/documents [32m200[0m 505.983 ms - 39967[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 55.142 ms - 25954[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [32m201[0m 162.925 ms - 223[0m
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [32m201[0m 171.108 ms - 223[0m
getting doc id
[0mPOST /api/user/me [32m200[0m 26.995 ms - 227[0m
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 61.855 ms - 25954[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 89.701 ms - 25[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [32m201[0m 169.424 ms - 227[0m
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [32m201[0m 180.308 ms - 225[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 53.356 ms - 25958[0m
Error in setting downloaded Error: FileDownloaded validation failed: downloaded_through_plan: Path `downloaded_through_plan` is required.
    at ValidationError.inspect (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/error/validation.js:50:26)
    at formatValue (node:internal/util/inspect:805:19)
    at inspect (node:internal/util/inspect:364:10)
    at formatWithOptionsInternal (node:internal/util/inspect:2298:40)
    at formatWithOptions (node:internal/util/inspect:2160:10)
    at console.value (node:internal/console/constructor:351:14)
    at console.warn (node:internal/console/constructor:384:61)
    at /Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:25:15
    at Generator.throw (<anonymous>)
    at rejected (/Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:6:65)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) {
  errors: {
    downloaded_through_plan: ValidatorError: Path `downloaded_through_plan` is required.
        at validate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1365:13)
        at SchemaNumber.SchemaType.doValidate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1349:7)
        at /Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/document.js:2942:18
        at processTicksAndRejections (node:internal/process/task_queues:77:11) {
      properties: [Object],
      kind: 'required',
      path: 'downloaded_through_plan',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    }
  },
  _message: 'FileDownloaded validation failed'
}
[0mPOST /api/usage/file-download [31m500[0m 22.445 ms - 17[0m
[0mPOST /api/user/me [32m200[0m 181.475 ms - 227[0m
[0mPOST /api/toppers [32m200[0m 196.442 ms - 13479[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 89.962 ms - 25[0m
[0mPOST /api/user/me [32m200[0m 35.350 ms - 227[0m
[0mPOST /api/toppers [32m200[0m 63.301 ms - 13479[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 91.091 ms - 25[0m
tagSearchResults 10
other results 0
other results 2 0
[0mPOST /api/documents [32m200[0m 512.432 ms - 39973[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 50.455 ms - 25956[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [32m201[0m 133.408 ms - 223[0m
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [32m201[0m 141.579 ms - 225[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 31.662 ms - 25954[0m
Error in setting downloaded Error: FileDownloaded validation failed: downloaded_through_plan: Path `downloaded_through_plan` is required.
    at ValidationError.inspect (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/error/validation.js:50:26)
    at formatValue (node:internal/util/inspect:805:19)
    at inspect (node:internal/util/inspect:364:10)
    at formatWithOptionsInternal (node:internal/util/inspect:2298:40)
    at formatWithOptions (node:internal/util/inspect:2160:10)
    at console.value (node:internal/console/constructor:351:14)
    at console.warn (node:internal/console/constructor:384:61)
    at /Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:25:15
    at Generator.throw (<anonymous>)
    at rejected (/Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:6:65)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) {
  errors: {
    downloaded_through_plan: ValidatorError: Path `downloaded_through_plan` is required.
        at validate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1365:13)
        at SchemaNumber.SchemaType.doValidate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1349:7)
        at /Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/document.js:2942:18
        at processTicksAndRejections (node:internal/process/task_queues:77:11) {
      properties: [Object],
      kind: 'required',
      path: 'downloaded_through_plan',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    }
  },
  _message: 'FileDownloaded validation failed'
}
[0mPOST /api/usage/file-download [31m500[0m 9.832 ms - 17[0m
getting doc id
[0mPOST /api/user/me [32m200[0m 22.198 ms - 227[0m
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 59.670 ms - 25954[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 88.513 ms - 25[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [32m201[0m 145.657 ms - 223[0m
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [32m201[0m 153.856 ms - 223[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 47.261 ms - 25954[0m
Error in setting downloaded Error: FileDownloaded validation failed: downloaded_through_plan: Path `downloaded_through_plan` is required.
    at ValidationError.inspect (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/error/validation.js:50:26)
    at formatValue (node:internal/util/inspect:805:19)
    at inspect (node:internal/util/inspect:364:10)
    at formatWithOptionsInternal (node:internal/util/inspect:2298:40)
    at formatWithOptions (node:internal/util/inspect:2160:10)
    at console.value (node:internal/console/constructor:351:14)
    at console.warn (node:internal/console/constructor:384:61)
    at /Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:25:15
    at Generator.throw (<anonymous>)
    at rejected (/Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:6:65)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) {
  errors: {
    downloaded_through_plan: ValidatorError: Path `downloaded_through_plan` is required.
        at validate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1365:13)
        at SchemaNumber.SchemaType.doValidate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1349:7)
        at /Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/document.js:2942:18
        at processTicksAndRejections (node:internal/process/task_queues:77:11) {
      properties: [Object],
      kind: 'required',
      path: 'downloaded_through_plan',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    }
[0mPOST /api/usage/file-download [31m500[0m 8.647 ms - 17[0m
  },
  _message: 'FileDownloaded validation failed'
}
getting doc id
[0mPOST /api/user/me [32m200[0m 87.668 ms - 227[0m
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 190.983 ms - 25956[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 247.080 ms - 25[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [32m201[0m 131.197 ms - 229[0m
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [32m201[0m 141.761 ms - 227[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 49.171 ms - 25958[0m
[0mPOST /api/usage/file-download [31m500[0m 4.681 ms - 17[0m
Error in setting downloaded Error: FileDownloaded validation failed: downloaded_through_plan: Path `downloaded_through_plan` is required.
    at ValidationError.inspect (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/error/validation.js:50:26)
    at formatValue (node:internal/util/inspect:805:19)
    at inspect (node:internal/util/inspect:364:10)
    at formatWithOptionsInternal (node:internal/util/inspect:2298:40)
    at formatWithOptions (node:internal/util/inspect:2160:10)
    at console.value (node:internal/console/constructor:351:14)
    at console.warn (node:internal/console/constructor:384:61)
    at /Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:25:15
    at Generator.throw (<anonymous>)
    at rejected (/Users/rateria/Code/upsc-web-app/servers/backend/api/routes/usage/index.ts:6:65)
    at processTicksAndRejections (node:internal/process/task_queues:95:5) {
  errors: {
    downloaded_through_plan: ValidatorError: Path `downloaded_through_plan` is required.
        at validate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1365:13)
        at SchemaNumber.SchemaType.doValidate (/Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/schematype.js:1349:7)
        at /Users/rateria/Code/upsc-web-app/node_modules/.pnpm/mongoose@7.4.0/node_modules/mongoose/lib/document.js:2942:18
        at processTicksAndRejections (node:internal/process/task_queues:77:11) {
      properties: [Object],
      kind: 'required',
      path: 'downloaded_through_plan',
      value: undefined,
      reason: undefined,
      [Symbol(mongoose:validatorError)]: true
    }
  },
  _message: 'FileDownloaded validation failed'
}
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 45.493 ms - 25956[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [0m-[0m - ms - -[0m
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [0m-[0m - ms - -[0m
getting doc id
[0mGET /api/documents/64bba00f620cb9f538983d33 [32m201[0m 23.389 ms - 25956[0m
[0mPOST /api/user/me [32m200[0m 20.554 ms - 227[0m
[0mPOST /api/usage/remaining-downloads [32m200[0m 87.773 ms - 25[0m
getting page id
getting page id
[0mGET /api/documents/signed_page/64bb9d62620cb9f5389839c6 [32m201[0m 134.526 ms - 225[0m
[0mGET /api/documents/signed_page/64bb9d6a620cb9f5389839c8 [32m201[0m 14